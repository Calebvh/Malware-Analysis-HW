#include<stdio.h>
#include<string.h>
#include<stdlib.h>

void ob( char* msg, unsigned int size, char key )
{
    for( int i = 0; i < size; i++ )
    {
	//msg[i] = msg[i] + -'&';
	msg[i] = msg[i] ^ key;
	msg[i] = msg[i] + '&';
   	 
    }
}

void deob( char* msg, unsigned int size, char key )
{
    for( int i = 0; i < size; i++ )
    {
        msg[i] = msg[i] + -'&';
        msg[i] = msg[i] ^ key;
        //msg[i] = msg[i] + '&';

    }
}




int main( int argc, char* argv[] )
{
    char test0[0x100] = {0xf6, 0x23, 0x1a, 0x1a, 0x1d, 0xde, 0xfb, 0xf1, 0x05, 0x0a}; 

    char test1[0x100] = {0xff, 0x01, 0xf9, 0xbe};

    char test12[0x100] = {0xff, 0x01, 0xf9, 0xbe};
    char test2[0x100] = { 0x24, 0x1A, 0x1F, 0x25, 0xDE, 0xCB, 0xCC, 0xDE, 0xE8, 0x1B, 0x06, 0x16, 0xE8, 0xD1, 0x12, 0xEF, 0xEF, 0xCE, 0x04, 0xEF, 0x21, 0xCF, 0xC7, 0x00, 0xF3, 0x19, 0xF4, 0x24, 0xF4, 0x03, 0x16, 0x04, 0xE6, 0xCE, 0xF8, 0x04, 0xF3, 0xCF, 0xF0, 0x24, 0xF2, 0x19, 0xC7, 0xE6, 0xE6, 0xCE, 0xF0, 0xEE, 0xE6, 0xCF, 0xF0, 0xF7, 0xF0, 0xF4, 0xC7, 0xE6, 0xF3, 0x19, 0x1A, 0xF3, 0xF0, 0xF4, 0xC7, 0xF4, 0xF3, 0x04, 0xC7, 0xEF, 0xF2, 0x03, 0xF4, 0x00, 0xF3, 0xCE, 0xF4, 0xC7, 0x01, 0x25, 0xCB, 0xCB, 0xBE };
    
    char test3[0x100] = {0x03, 0xe6, 0xf7, 0xf2, 0xbe};

    printf("=========Msg Sent============\n");
    printf("0) %s\n", test0);
    deob( test0, strlen(test0), 0x98 );
    printf("1) %s\n", test0);
    
    printf("=========Msg Rcvd============\n");
    printf("0) %s\n", test1);
    deob( test1, strlen(test1), 0x98 );
    printf("1) %s\n", test1);

    printf("=========Msg Rcvd============\n");
    printf("0) %s\n", test2);
    deob( test2, strlen(test2), 0x98 );
    printf("1) %s\n", test2);

    printf("=========Msg Sent============\n");
    printf("0) %s\n", test12);
    deob( test12, strlen(test12), 0x98 );
    printf("1) %s\n", test12);

    printf("=========Msg Rcvd============\n");
    printf("0) %s\n", test3);
    deob( test3, strlen(test3), 0x98 );
    printf("1) %s\n", test3);

    return 1;
}
